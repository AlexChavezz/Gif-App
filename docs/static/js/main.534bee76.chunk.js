(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{42:function(e,t,c){},51:function(e,t,c){"use strict";c.r(t);var n=c(4),r=c(36),a=c.n(r),s=(c(42),c(12)),i=c(27),u=c(11),o=c(0),j=c.n(o),l=c(3),b=c(18),O=c(19),d=Object(n.createContext)(null),f=c(21),h=c(37),p=Object(h.a)({apiKey:"AIzaSyCyFTsrW2dOv7Ax7IYwTguiR8y1F0tuQpE",authDomain:"gif-app-89297.firebaseapp.com",projectId:"gif-app-89297",storageBucket:"gif-app-89297.appspot.com",messagingSenderId:"677803113629",appId:"1:677803113629:web:ecc183262f383a76dfa874"}),x=Object(f.f)(p),m=c(15),g=function(){var e=Object(l.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=[],e.next=3,Object(f.e)(Object(f.b)(x,"".concat(t,"/")));case 3:return e.sent.forEach((function(e){c=[].concat(Object(m.a)(c),[Object(b.a)(Object(b.a)({},e.data()),{},{id:e.id})])})),e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(l.a)(j.a.mark((function e(t,c,n,r){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(f.a)(Object(f.b)(x,"".concat(r.sub)),n);case 3:a=e.sent,t.length>0?c([].concat(Object(m.a)(t),[Object(b.a)(Object(b.a)({},n),{},{id:a.id})])):c([Object(b.a)(Object(b.a)({},n),{},{id:a.id})]),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,c,n,r){return e.apply(this,arguments)}}(),k=c(6),y=function(e){var t=e.title,c=e.id,r=e.url,a=e.isFavorite,s=e.setAlertLogin,i=Object(n.useContext)(d),u=i.items,o=i.setItems,b=Object(O.b)(),h=b.user,p=b.isAuthenticated,m=Object(n.useRef)(null),g=function(){var e=Object(l.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p?(v(u,o,{title:t,url:r,id:c,isFavorite:!0},h),m.current.style.backgroundColor="#22B244",m.current.style.color="#fff"):s(!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(k.jsxs)("div",{className:"card",children:[Object(k.jsx)("img",{src:r,alt:t,className:"gif"}),Object(k.jsx)("p",{children:t}),a?Object(k.jsxs)("button",{onClick:function(){o(u.filter((function(e){return e.id!==c}))),u.forEach((function(e){e.id===c&&Object(f.c)(Object(f.d)(x,"".concat(h.sub,"/").concat(c))).then((function(){})).catch((function(e){return console.log(e)}))}))},ref:m,children:[Object(k.jsx)("img",{src:"./pictures/star_black_24dp.svg",alt:"star-img",id:"star-img"}),"REMOVE FROM FAVORITES"]}):Object(k.jsxs)("button",{onClick:g,ref:m,children:[Object(k.jsx)("img",{src:"./pictures/star_black_24dp.svg",alt:"star-img",id:"star-img"}),"ADD TO FAVORITES"]})]})},C=function(){var e=Object(O.b)().isAuthenticated,t=Object(n.useContext)(d).items;return Object(k.jsx)("section",{children:e?Object(k.jsx)("article",{className:"gif-card-container favorites",children:t.length>0?t.map((function(e){return Object(n.createElement)(y,Object(b.a)(Object(b.a)({},e),{},{key:e.id}))})):Object(k.jsx)(k.Fragment,{children:"YOU HAVE NOT GIFS SAVED"})}):Object(k.jsx)("article",{className:"favorite-screen-denied",children:"LOG IN TO SAVE YOUR FAVORITES GIFS"})})},I=function(e){var t=e.setCategories,c=Object(n.useState)(""),r=Object(s.a)(c,2),a=r[0],i=r[1];return Object(k.jsx)("section",{className:"search-gif",children:Object(k.jsxs)("form",{onSubmit:function(e){a.trim().length>2?(t((function(e){return[a].concat(Object(m.a)(e))})),i("")):alert("Please enter a value"),e.preventDefault()},children:[Object(k.jsx)("label",{children:"Search"}),Object(k.jsx)("input",{type:"text",value:a,onChange:function(e){i(e.target.value)},placeholder:"New Category"}),Object(k.jsx)("input",{type:"submit",value:"Add"})]})})},w=function(e){var t=e.text,c=e.onClick;return Object(k.jsx)("button",{className:"auth-buttons",onClick:c,children:t})},A=function(e){var t=e.setAlertLogin,c=Object(O.b)().loginWithRedirect;return Object(k.jsx)("section",{className:"alert-login-container",onClick:function(){return t()},children:Object(k.jsxs)("article",{className:"modal",children:["LOGIN",Object(k.jsx)(w,{text:"LOG IN",onClick:c}),Object(k.jsx)("img",{src:"./pictures/close_black_24dp.svg",alt:"close-button"})]})})},N=function(){var e=Object(l.a)(j.a.mark((function e(t){var c,n,r,a,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="https://api.giphy.com/v1/gifs/search?q=".concat(encodeURI(t),"&lImit=20&api_key=1ywURhrBl5cdf1Eqb0nCB2PLVy7Yme9o"),e.next=3,fetch(c);case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,a=r.data,s=a.map((function(e){return{id:e.id,title:e.title,url:e.images.downsized_medium.url}})),e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(e){var t=e.category,c=e.setAlertLogin,r=function(e){var t=Object(n.useState)({data:[],loading:!0}),c=Object(s.a)(t,2),r=c[0],a=c[1];return Object(n.useEffect)((function(){N(e).then((function(e){a({data:e,loading:!1})}))}),[e]),r}(t).data;return Object(k.jsxs)("section",{children:[Object(k.jsx)("article",{className:"gif-title",children:Object(k.jsxs)("h3",{children:[" ",t," "]})}),Object(k.jsx)("article",{className:"gif-card-container",children:r.map((function(e){return Object(k.jsx)(y,Object(b.a)(Object(b.a)({},e),{},{isFavorite:!1,setAlertLogin:c}),e.id)}))})]})};var E=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(!1),i=Object(s.a)(a,2),u=i[0],o=i[1];return Object(k.jsxs)(k.Fragment,{children:[u&&Object(k.jsx)(A,{setAlertLogin:o}),Object(k.jsx)(I,{setCategories:r}),c.map((function(e){return Object(k.jsx)(S,{category:e,setAlertLogin:o},e)}))]})},F=function(){var e=Object(O.b)(),t=e.loginWithRedirect,c=e.isAuthenticated,n=e.logout;return Object(k.jsx)("header",{children:Object(k.jsxs)("nav",{children:[Object(k.jsxs)("ul",{children:[Object(k.jsxs)("li",{children:[Object(k.jsx)("img",{src:"./pictures/search_black_24dp.svg",alt:"search-img"}),Object(k.jsx)(i.b,{to:"/",children:"Home"})]}),Object(k.jsxs)("li",{children:[Object(k.jsx)("img",{src:"./pictures/star_black_24dp.svg",alt:"star-img"}),Object(k.jsx)(i.b,{to:"/favorites",children:"Favorites"})]})]}),Object(k.jsx)("ul",{children:c?Object(k.jsx)("li",{className:"auth-buttons",onClick:function(){n()},children:"Log Out"}):Object(k.jsx)("li",{className:"auth-buttons",onClick:function(){t()},children:"Log In"})})]})})},L=function(){var e=Object(O.b)().user,t=Object(n.useContext)(d).setItems;return Object(n.useEffect)((function(){function c(){return(c=Object(l.a)(j.a.mark((function c(){var n;return j.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,g(e.sub);case 2:n=c.sent,t(n);case 4:case"end":return c.stop()}}),c)})))).apply(this,arguments)}e&&function(){c.apply(this,arguments)}()}),[e,t]),Object(k.jsxs)("div",{className:"container",children:[Object(k.jsx)(F,{}),Object(k.jsxs)(u.c,{children:[Object(k.jsx)(u.a,{exact:!0,path:"/",element:Object(k.jsx)(E,{})}),Object(k.jsx)(u.a,{path:"/favorites",element:Object(k.jsx)(C,{})})]})]})},R=function(){return Object(k.jsx)(i.a,{children:Object(k.jsx)(u.c,{children:Object(k.jsx)(u.a,{exact:!0,path:"/*",element:Object(k.jsx)(L,{})})})})},_=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),c=t[0],r=t[1];return Object(k.jsx)(O.a,{domain:"dev-k74lujcb.us.auth0.com",clientId:"2HfS7KxsOLJCTuzOZ5uga8WGMCBS0iBu",redirectUri:window.location.origin,children:Object(k.jsx)(d.Provider,{value:{items:c,setItems:r},children:Object(k.jsx)(R,{})})})};a.a.render(Object(k.jsx)(_,{}),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.534bee76.chunk.js.map