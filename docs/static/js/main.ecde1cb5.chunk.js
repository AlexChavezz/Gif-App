(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{42:function(e,t,c){},51:function(e,t,c){"use strict";c.r(t);var n=c(4),r=c(36),a=c.n(r),i=(c(42),c(12)),s=c(27),o=c(11),u=c(0),j=c.n(u),l=c(3),b=c(18),O=c(19),d=c.p+"static/media/star_black_24dp.ecf2636e.svg",f=Object(n.createContext)(null),h=c(21),p=c(37),x=Object(p.a)({apiKey:"AIzaSyCyFTsrW2dOv7Ax7IYwTguiR8y1F0tuQpE",authDomain:"gif-app-89297.firebaseapp.com",projectId:"gif-app-89297",storageBucket:"gif-app-89297.appspot.com",messagingSenderId:"677803113629",appId:"1:677803113629:web:ecc183262f383a76dfa874"}),m=Object(h.f)(x),g=c(15),v=function(){var e=Object(l.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=[],e.next=3,Object(h.e)(Object(h.b)(m,"".concat(t,"/")));case 3:return e.sent.forEach((function(e){c=[].concat(Object(g.a)(c),[Object(b.a)(Object(b.a)({},e.data()),{},{id:e.id})])})),e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(l.a)(j.a.mark((function e(t,c,n,r){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(h.a)(Object(h.b)(m,"".concat(r.sub)),n);case 3:a=e.sent,t.length>0?c([].concat(Object(g.a)(t),[Object(b.a)(Object(b.a)({},n),{},{id:a.id})])):c([Object(b.a)(Object(b.a)({},n),{},{id:a.id})]),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,c,n,r){return e.apply(this,arguments)}}(),k=c(6),C=function(e){var t=e.title,c=e.id,r=e.url,a=e.isFavorite,i=e.setAlertLogin,s=Object(n.useContext)(f),o=s.items,u=s.setItems,b=Object(O.b)(),p=b.user,x=b.isAuthenticated,g=Object(n.useRef)(null),v=function(){var e=Object(l.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x?(y(o,u,{title:t,url:r,id:c,isFavorite:!0},p),g.current.style.backgroundColor="#22B244",g.current.style.color="#fff"):i(!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(k.jsxs)("div",{className:"card",children:[Object(k.jsx)("img",{src:r,alt:t,className:"gif"}),Object(k.jsx)("p",{children:t}),a?Object(k.jsxs)("button",{onClick:function(){u(o.filter((function(e){return e.id!==c}))),o.forEach((function(e){e.id===c&&Object(h.c)(Object(h.d)(m,"".concat(p.sub,"/").concat(c))).then((function(){})).catch((function(e){return console.log(e)}))}))},ref:g,children:[Object(k.jsx)("img",{src:d,alt:"star-img",id:"star-img"}),"REMOVE FROM FAVORITES"]}):Object(k.jsxs)("button",{onClick:v,ref:g,children:[Object(k.jsx)("img",{src:d,alt:"star-img",id:"star-img"}),"ADD TO FAVORITES"]})]})},I=function(){var e=Object(O.b)().isAuthenticated,t=Object(n.useContext)(f).items;return Object(k.jsx)("section",{children:e?Object(k.jsx)("article",{className:"gif-card-container favorites",children:t.length>0?t.map((function(e){return Object(n.createElement)(C,Object(b.a)(Object(b.a)({},e),{},{key:e.id}))})):Object(k.jsx)(k.Fragment,{children:"YOU HAVE NOT GIFS SAVED"})}):Object(k.jsx)("article",{className:"favorite-screen-denied",children:"LOG IN TO SAVE YOUR FAVORITES GIFS"})})},w=function(e){var t=e.setCategories,c=Object(n.useState)(""),r=Object(i.a)(c,2),a=r[0],s=r[1];return Object(k.jsx)("section",{className:"search-gif",children:Object(k.jsxs)("form",{onSubmit:function(e){a.trim().length>2?(t((function(e){return[a].concat(Object(g.a)(e))})),s("")):alert("Please enter a value"),e.preventDefault()},children:[Object(k.jsx)("label",{children:"Search"}),Object(k.jsx)("input",{type:"text",value:a,onChange:function(e){s(e.target.value)},placeholder:"New Category"}),Object(k.jsx)("input",{type:"submit",value:"Add"})]})})},A=function(e){var t=e.text,c=e.onClick;return Object(k.jsx)("button",{className:"auth-buttons",onClick:c,children:t})},N=c.p+"static/media/close_black_24dp.244b6687.svg",S=function(e){var t=e.setAlertLogin,c=Object(O.b)().loginWithRedirect;return Object(k.jsx)("section",{className:"alert-login-container",onClick:function(){return t()},children:Object(k.jsxs)("article",{className:"modal",children:["LOGIN",Object(k.jsx)(A,{text:"LOG IN",onClick:c}),Object(k.jsx)("img",{src:N,alt:"close-button"})]})})},E=function(){var e=Object(l.a)(j.a.mark((function e(t){var c,n,r,a,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="https://api.giphy.com/v1/gifs/search?q=".concat(encodeURI(t),"&lImit=20&api_key=1ywURhrBl5cdf1Eqb0nCB2PLVy7Yme9o"),e.next=3,fetch(c);case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,a=r.data,i=a.map((function(e){return{id:e.id,title:e.title,url:e.images.downsized_medium.url}})),e.abrupt("return",i);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(e){var t=e.category,c=e.setAlertLogin,r=function(e){var t=Object(n.useState)({data:[],loading:!0}),c=Object(i.a)(t,2),r=c[0],a=c[1];return Object(n.useEffect)((function(){E(e).then((function(e){a({data:e,loading:!1})}))}),[e]),r}(t).data;return Object(k.jsxs)("section",{children:[Object(k.jsx)("article",{className:"gif-title",children:Object(k.jsxs)("h3",{children:[" ",t," "]})}),Object(k.jsx)("article",{className:"gif-card-container",children:r.map((function(e){return Object(k.jsx)(C,Object(b.a)(Object(b.a)({},e),{},{isFavorite:!1,setAlertLogin:c}),e.id)}))})]})};var L=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(!1),s=Object(i.a)(a,2),o=s[0],u=s[1];return Object(k.jsxs)(k.Fragment,{children:[o&&Object(k.jsx)(S,{setAlertLogin:u}),Object(k.jsx)(w,{setCategories:r}),c.map((function(e){return Object(k.jsx)(F,{category:e,setAlertLogin:u},e)}))]})},R=c.p+"static/media/search_black_24dp.6c95e853.svg",T=function(){var e=Object(O.b)(),t=e.loginWithRedirect,c=e.isAuthenticated,n=e.logout;return Object(k.jsx)("header",{children:Object(k.jsxs)("nav",{children:[Object(k.jsxs)("ul",{children:[Object(k.jsxs)("li",{children:[Object(k.jsx)("img",{src:R,alt:"search-img"}),Object(k.jsx)(s.b,{to:"/",children:"Home"})]}),Object(k.jsxs)("li",{children:[Object(k.jsx)("img",{src:d,alt:"star-img"}),Object(k.jsx)(s.b,{to:"/favorites",children:"Favorites"})]})]}),Object(k.jsx)("ul",{children:c?Object(k.jsx)("li",{className:"auth-buttons",onClick:function(){n()},children:"Log Out"}):Object(k.jsx)("li",{className:"auth-buttons",onClick:function(){t()},children:"Log In"})})]})})},V=function(){var e=Object(O.b)().user,t=Object(n.useContext)(f).setItems;return Object(n.useEffect)((function(){function c(){return(c=Object(l.a)(j.a.mark((function c(){var n;return j.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,v(e.sub);case 2:n=c.sent,t(n);case 4:case"end":return c.stop()}}),c)})))).apply(this,arguments)}e&&function(){c.apply(this,arguments)}()}),[e,t]),Object(k.jsxs)("div",{className:"container",children:[Object(k.jsx)(T,{}),Object(k.jsxs)(o.c,{children:[Object(k.jsx)(o.a,{exact:!0,path:"/",element:Object(k.jsx)(L,{})}),Object(k.jsx)(o.a,{path:"/favorites",element:Object(k.jsx)(I,{})})]})]})},_=function(){return Object(k.jsx)(s.a,{children:Object(k.jsx)(o.c,{children:Object(k.jsx)(o.a,{exact:!0,path:"/*",element:Object(k.jsx)(V,{})})})})},B=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],r=t[1];return Object(k.jsx)(O.a,{domain:"dev-k74lujcb.us.auth0.com",clientId:"2HfS7KxsOLJCTuzOZ5uga8WGMCBS0iBu",redirectUri:window.location.origin,children:Object(k.jsx)(f.Provider,{value:{items:c,setItems:r},children:Object(k.jsx)(_,{})})})};a.a.render(Object(k.jsx)(B,{}),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.ecde1cb5.chunk.js.map